# Ethereum Wallet CLI - 사용법 및 예시

## 📋 개요

Ethereum Wallet CLI는 각 Phase별로 구현된 기능을 테스트할 수 있는 통합 명령줄 인터페이스입니다. 
각 Phase가 완료될 때마다 새로운 기능이 추가되어 확장됩니다.

## 🚀 실행 방법

```bash
npm run wallet
```

## 📊 현재 구현 상태

### ✅ Phase 2: 핵심 지갑 기능 (완료)
- 🆕 새 지갑 생성
- 📥 지갑 가져오기  
- ℹ️ 지갑 정보 조회
- 💾 지갑 백업
- 🔄 지갑 복구
- ✅ 입력값 검증 테스트
- 🔐 암호화 기능 테스트

### ✅ Phase 3: 트랜잭션 기능 (완료)
- 💸 트랜잭션 기능 테스트

### 🔄 Phase 4: 네트워크 기능 (예정)
- 🌐 네트워크 기능 테스트

## 🎯 Phase 2 기능 상세 사용법

### 1. 🆕 새 지갑 생성

**메뉴 선택**: `1`

**예시 출력**:
```
🆕 새 지갑 생성 테스트
------------------------
니모닉을 생성하시겠습니까? (y/n): y
지갑 보안을 위한 비밀번호를 입력하세요: mySecurePassword123!

✅ 지갑이 성공적으로 생성되었습니다!
📍 주소: 0xbBE829E2248850a95cb8A93462d2302A484Bf40d
🔑 공개키: 0x03cf7f2dc79cef5ae64e812206a14afea8432278b5ff43101992be9156343bc1f5
📝 니모닉: alarm thought digital organ sadness another already square symbol million bus lucky
🔐 비밀번호가 설정되었습니다. 백업 및 복구 시 필요합니다.
```

**입력 가이드**:
- **니모닉 생성**: `y` (니모닉 생성) 또는 `n` (니모닉 없이 생성)
- **비밀번호**: 지갑 백업/복구 시 사용할 비밀번호 (최소 8자, 특수문자 포함 권장)

### 2. 📥 지갑 가져오기

**메뉴 선택**: `2`

**예시 출력**:
```
📥 지갑 가져오기 테스트
------------------------
가져오기 방식 선택 (1: 개인키, 2: 니모닉): 2
니모닉을 입력하세요: alarm thought digital organ sadness another already square symbol million bus lucky

지갑이 성공적으로 가져와졌습니다.
✅ 니모닉으로 지갑을 가져왔습니다.
```

**입력 가이드**:
- **가져오기 방식**: `1` (개인키) 또는 `2` (니모닉)
- **개인키**: `0x`로 시작하는 64자리 hex 문자열
- **니모닉**: 공백으로 구분된 12, 15, 18, 21, 24개 단어

### 3. ℹ️ 지갑 정보 조회

**메뉴 선택**: `3`

**예시 출력**:
```
ℹ️ 지갑 정보 조회 테스트
------------------------
📋 지갑 정보:
📍 주소: 0xbBE829E2248850a95cb8A93462d2302A484Bf40d
🔑 공개키: 0x03cf7f2dc79cef5ae64e812206a14afea8432278b5ff43101992be9156343bc1f5
💰 잔액: 0 wei
🔢 Nonce: 0
📝 니모닉: alarm thought digital organ sadness another already square symbol million bus lucky
✅ 유효성: 무효
```

**참고사항**:
- **잔액**: 현재 네트워크 연결이 없어서 `0 wei`로 표시
- **유효성**: Phase 4에서 네트워크 연동 후 실제 잔액 확인 가능

### 4. 💾 지갑 백업

**메뉴 선택**: `4`

**예시 출력**:
```
💾 지갑 백업 테스트
-------------------
백업 비밀번호를 입력하세요: mySecurePassword123!

지갑이 성공적으로 백업되었습니다.
✅ 지갑이 성공적으로 백업되었습니다!
📍 주소: 0xbBE829E2248850a95cb8A93462d2302A484Bf40d
🔐 암호화된 개인키: 2263b436484ce351b5d3...
🧂 Salt: af2c3646b009861aa4ae492f06c950f62e951b698f3075f2e2da680f9026a6fc
🔑 IV: 61cb3e563cba8b032b35e9fd0d74d78f
📅 생성일: Tue Aug 26 2025 00:30:18 GMT+0900 (Korean Standard Time)

백업 정보를 파일로 저장하시겠습니까? (y/n): y
💾 백업 정보가 wallet-backup-1756135821473.json에 저장되었습니다.
```

**입력 가이드**:
- **백업 비밀번호**: 지갑 생성 시 설정한 비밀번호와 동일해야 함
- **파일 저장**: `y` (JSON 파일로 저장) 또는 `n` (저장하지 않음)

**백업 파일 내용**:
```json
{
  "address": "0xbBE829E2248850a95cb8A93462d2302A484Bf40d",
  "encryptedPrivateKey": "2263b436484ce351b5d3...",
  "iv": "61cb3e563cba8b032b35e9fd0d74d78f",
  "salt": "af2c3646b009861aa4ae492f06c950f62e951b698f3075f2e2da680f9026a6fc",
  "mnemonic": "alarm thought digital organ sadness another already square symbol million bus lucky",
  "createdAt": "2025-08-26T00:30:18.000Z"
}
```

### 5. 🔄 지갑 복구

**메뉴 선택**: `5`

**예시 출력**:
```
🔄 지갑 복구 테스트
-------------------
복구 방식 선택 (1: 백업 파일, 2: 수동 입력): 1
백업 파일명을 입력하세요: wallet-backup-1756135821473.json
백업 비밀번호를 입력하세요: mySecurePassword123!

지갑이 성공적으로 가져와졌습니다.
✅ 지갑이 성공적으로 복구되었습니다!
```

**입력 가이드**:
- **복구 방식**: `1` (백업 파일) 또는 `2` (수동 입력)
- **백업 파일명**: 전체 경로 또는 파일명만 입력
- **백업 비밀번호**: 백업 시 사용한 비밀번호

### 6. ✅ 입력값 검증 테스트

**메뉴 선택**: `6`

**예시 출력**:
```
✅ 입력값 검증 테스트
---------------------
테스트할 Ethereum 주소를 입력하세요: 0xbBE829E2248850a95cb8A93462d2302A484Bf40d
📍 주소 유효성: ✅ 유효

테스트할 개인키를 입력하세요 (0x로 시작): 0x1234567890abcdef...
🔑 개인키 유효성: ❌ 무효

테스트할 금액을 입력하세요: 1.5
💰 금액 유효성: ✅ 유효

테스트할 비밀번호를 입력하세요: mySecurePassword123!
🔐 비밀번호 유효성: ✅ 유효
```

**입력 가이드**:
- **Ethereum 주소**: `0x`로 시작하는 40자리 hex 주소
- **개인키**: `0x`로 시작하는 64자리 hex 개인키
- **금액**: 숫자 형식 (예: `1`, `1.5`, `0.001`)
- **비밀번호**: 최소 8자, 특수문자 포함 권장

### 7. 🔐 암호화 기능 테스트

**메뉴 선택**: `7`

**예시 출력**:
```
🔐 암호화 기능 테스트
----------------------
암호화할 테스트 데이터를 입력하세요: Hello, Ethereum!
암호화 비밀번호를 입력하세요: mySecurePassword123!

🧂 생성된 Salt: 8f63508f8e4b1d2821b3269081a62ae2b764ab06520cff0ab4272de0b6dc61a5
🔑 생성된 IV: 9f358338d90a0f1935a7786111d18726
🔑 생성된 키: 8087201ce4ca74425edccf0989a29585346cdfcfdd7d06da913acf1a3cf37798
🔐 암호화된 데이터: 00cb4f46e75ffc764d2257836bb646ce
🏷️ 인증 태그: 00000000000000000000000000000000
🔓 복호화된 데이터: Hello, Ethereum!
✅ 복호화 성공: 예
🔍 SHA-256 해시: 9f86d081884c7d659a2feaa0c55ad015a3bf4f1b2b0b822cd15d6c15b0f00a08
```

**입력 가이드**:
- **테스트 데이터**: 암호화할 임의의 텍스트
- **암호화 비밀번호**: 데이터 암호화에 사용할 비밀번호

## ✅ Phase 3 기능 (완료)

### 8. 💸 트랜잭션 기능 테스트

**메뉴 선택**: `8`

**사용 가능한 트랜잭션 테스트**:
1. 💰 가스비 추정
2. 📝 트랜잭션 생성
3. ✍️ 트랜잭션 서명
4. 🚀 트랜잭션 전송 (시뮬레이션)
5. 🔍 트랜잭션 상태 조회
6. ↩️ 메인 메뉴로 돌아가기

#### 8-1. 💰 가스비 추정

**메뉴 선택**: `1`

**예시 출력**:
```
💰 가스비 추정 테스트
----------------------
수신 주소를 입력하세요: 0x0776Cf0847Fd77a43752De2a7C2e4e4c16C79DA8
전송할 금액을 입력하세요 (ETH): 0.0001
✅ 가스비 추정 완료:
🔢 가스 한계: 21000
⛽ 가스 가격: 20.0 gwei
💰 총 비용: 0.00042 ETH
```

**입력 가이드**:
- **수신 주소**: 유효한 Ethereum 주소 (0x로 시작)
- **금액**: 전송할 ETH 금액 (소수점 지원)

#### 8-2. 📝 트랜잭션 생성

**메뉴 선택**: `2`

**예시 출력**:
```
📝 트랜잭션 생성 테스트
------------------------
수신 주소를 입력하세요: 0x0776Cf0847Fd77a43752De2a7C2e4e4c16C79DA8
전송할 금액을 입력하세요 (ETH): 0.0001
가스 한계를 입력하세요 (선택사항, Enter로 자동): 
✅ 트랜잭션 생성 완료:
📍 수신 주소: 0x0776Cf0847Fd77a43752De2a7C2e4e4c16C79DA8
💰 금액: 0.0001 ETH
🔢 Nonce: 0
⛽ 가스 한계: 21000
🔗 Chain ID: 1
```

**입력 가이드**:
- **수신 주소**: 유효한 Ethereum 주소
- **금액**: 전송할 ETH 금액
- **가스 한계**: 선택사항, Enter로 기본값 사용

#### 8-3. ✍️ 트랜잭션 서명

**메뉴 선택**: `3`

**예시 출력**:
```
✍️ 트랜잭션 서명 테스트
---------------------------
수신 주소를 입력하세요: 0x0776Cf0847Fd77a43752De2a7C2e4e4c16C79DA8
전송할 금액을 입력하세요 (ETH): 0.0001
✅ 트랜잭션 서명 완료:
🔐 서명된 트랜잭션: 0x01f86c01808504a817c800825208940776cf0847fd77a43752de2a7c2e4e4c16c79da8865af3107a400080c001a03a39bb...
📏 서명 길이: 224 문자
```

**참고사항**:
- 개인키로 트랜잭션 서명
- 서명된 트랜잭션은 실제 네트워크 전송 준비 완료

#### 8-4. 🚀 트랜잭션 전송 (시뮬레이션)

**메뉴 선택**: `4`

**예시 출력**:
```
🚀 트랜잭션 전송 테스트 (시뮬레이션)
----------------------------------------
⚠️  현재는 시뮬레이션 모드입니다.
실제 네트워크 연결 없이 트랜잭션 구조만 검증합니다.

수신 주소를 입력하세요: 0x0776Cf0847Fd77a43752De2a7C2e4e4c16C79DA8
전송할 금액을 입력하세요 (ETH): 0.0001
✅ 트랜잭션 전송 시뮬레이션 완료:
📍 수신 주소: 0x0776Cf0847Fd77a43752De2a7C2e4e4c16C79DA8
💰 금액: 0.0001 ETH
🔢 Nonce: 0
🔐 서명 완료: 0x01f86c01808504a817c800825208940776cf0847fd77a437...

📝 실제 네트워크 전송은 Phase 4에서 구현됩니다.
```

**참고사항**:
- 현재는 시뮬레이션 모드
- 실제 네트워크 전송은 Phase 4에서 구현 예정
- 트랜잭션 구조 및 서명 검증 완료

## 🌐 Phase 4 기능 (예정)

### 9. 🌐 네트워크 기능 테스트

**메뉴 선택**: `9`

**예시 출력** (구현 예정):
```
🌐 네트워크 기능 테스트
------------------------
🔄 Phase 4가 아직 개발 중입니다.
📋 구현 예정 기능:
  - Ethereum 네트워크 연결
  - Infura/Alchemy API 연동
  - 잔액 조회 및 트랜잭션 모니터링
  - Sepolia 테스트넷 지원
```

## 🚪 종료

**메뉴 선택**: `0`

**예시 출력**:
```
👋 CLI를 종료합니다.
```

## 📝 사용 팁

### 🔐 보안 관련
- **비밀번호**: 복잡한 비밀번호 사용 (대소문자, 숫자, 특수문자 조합)
- **니모닉**: 안전한 곳에 백업하고 절대 공유하지 마세요
- **백업 파일**: 암호화되어 있지만 안전한 곳에 보관하세요

### 🧪 테스트 순서 권장
1. **지갑 생성** → 비밀번호 설정
2. **지갑 정보 조회** → 생성 확인
3. **지갑 백업** → 백업 파일 생성
4. **지갑 복구** → 백업 테스트
5. **입력값 검증** → 각종 형식 테스트
6. **암호화 기능** → 암호화/복호화 테스트

### ⚠️ 주의사항
- **테스트 환경**: 현재는 로컬 테스트 환경입니다
- **실제 자금**: 테스트용 지갑이므로 실제 자금을 보내지 마세요
- **네트워크 연결**: Phase 4에서 실제 네트워크 연동 예정

## 🔄 문서 업데이트 이력

- **2025-08-26**: Phase 2 완성 - 핵심 지갑 기능 및 CLI 테스트 인터페이스
- **2025-08-26**: Phase 3 완성 - 트랜잭션 처리 기능 및 시뮬레이션 모드
- **Phase 4 완성 예정**: 네트워크 연동 기능 추가
- **Phase 5 완성 예정**: 통합 테스트 및 최종 검증

---

**개발자**: @IMHYEWON  
**AI 페어 프로그래밍**: Claude Sonnet 4 + Cursor  
**문서 버전**: v1.1 (Phase 3 완성)
